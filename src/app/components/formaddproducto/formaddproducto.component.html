<div >





<tui-tabs
  class="custom"
  [underline]="true"
  [(activeItemIndex)]="activeItemIndex"
>
  <button tuiTab type="button">Cargadores</button>
  <button tuiTab type="button">Cables USB</button>
  <button tuiTab type="button">Protectores de pantalla</button>
  <button tuiTab type="button">Audífonos</button>
  <button tuiTab type="button">Carcasas</button>
</tui-tabs>


<div class="max-w-4xl mx-l pt-6 bg-white rounded-lg ">
  <form [formGroup]="productoForm" (ngSubmit)="onSubmit()" class="grid grid-cols-1 md:grid-cols-2 gap-6">
    
    <!-- Nombre -->
    <div class="flex flex-col">
      <tui-input formControlName="nombre" class="w-full" placeholder="Ingrese el nombre del producto">
        Nombre del Producto
      </tui-input>
      <tui-error *ngIf="productoForm.get('nombre')?.invalid && productoForm.get('nombre')?.touched">
        Este campo es obligatorio
      </tui-error>
    </div>
  <div class="flex flex-col">
      <tui-select formControlName="categoria" class="w-full" [stringify]="getCategoriaNombre">
        Categoría
        <tui-data-list *tuiDataList>
          <button *ngFor="let categoria of categorias" tuiOption [value]="categoria.id">
            {{ categoria.nombre }}
          </button>
        </tui-data-list>
      </tui-select>
      <tui-error *ngIf="productoForm.get('categoria')?.invalid && productoForm.get('categoria')?.touched">
        Debe seleccionar una categoría
      </tui-error>
    </div>
    <!-- Descripción (Ocupará ambas columnas) -->
    <div class="col-span-2">
      <tui-textarea formControlName="descripcion" class="w-full" placeholder="Ingrese la descripción">
        Descripción
      </tui-textarea>
      <tui-error *ngIf="productoForm.get('descripcion')?.invalid && productoForm.get('descripcion')?.touched">
        La descripción es obligatoria
      </tui-error>
    </div>

    <!-- Precio -->
    <div class="flex flex-col">
      <tui-input
    formControlName="precio"
    type="number"
    class="w-full"
    placeholder="Ingrese el precio"
    (keypress)="validateNumberInput($event)"
  >
    Precio
  </tui-input>
      <tui-error *ngIf="productoForm.get('precio')?.hasError('required') && productoForm.get('precio')?.touched">
        Este campo es obligatorio
      </tui-error>
      <tui-error *ngIf="productoForm.get('precio')?.hasError('min')">
        El precio no puede ser negativo
      </tui-error>
      <tui-error *ngIf="productoForm.get('precio')?.hasError('pattern')">
        Ingrese un número válido (máx. 2 decimales)
      </tui-error>
    </div>

    <!-- SKU -->
    <div class="flex flex-col">
      <tui-input formControlName="sku" class="w-full" placeholder="Ingrese el SKU del producto">
        SKU
      </tui-input>
      <tui-error *ngIf="productoForm.get('sku')?.hasError('required') && productoForm.get('sku')?.touched">
        Este campo es obligatorio
      </tui-error>
      <tui-error *ngIf="productoForm.get('sku')?.hasError('pattern')">
        El SKU debe tener exactamente 4 dígitos numéricos
      </tui-error>
    </div>

    <!-- Marca -->
    <div class="flex flex-col">
      <tui-select formControlName="marca" class="w-full">
        Marca
        <tui-data-list *tuiDataList>
          <button *ngFor="let marca of marcas" tuiOption [value]="marca">{{ marca }}</button>
        </tui-data-list>
      </tui-select>
      <tui-error *ngIf="productoForm.get('marca')?.invalid && productoForm.get('marca')?.touched">
        Este campo es obligatorio
      </tui-error>
    </div>

    <!-- Modelo -->
    <div class="flex flex-col">
      <tui-select formControlName="modelo" class="w-full">
        Modelo
        <tui-data-list *tuiDataList>
          <button *ngFor="let modelo of modelos" tuiOption [value]="modelo">{{ modelo }}</button>
        </tui-data-list>
      </tui-select>
      <tui-error *ngIf="productoForm.get('modelo')?.invalid && productoForm.get('modelo')?.touched">
        Este campo es obligatorio
      </tui-error>
    </div>

    <!-- Categoría (Ocupará ambas columnas) -->
  

    <!-- Botón de envío -->
    <div class="col-span-2 flex justify-end">
      <button tuiButton type="submit" [disabled]="productoForm.invalid" class="px-6 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition">
        Agregar Producto
      </button>
    </div>

  </form>
</div>
</div>